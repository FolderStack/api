# Public
getFolderTree:
  handler: ./src/service-assets/handlers/getFolderTree.handler
  events:
    - http:
        method: GET
        path: /tree
        cors: true

getFolderContents:
  handler: ./src/service-assets/handlers/getFolderContents.handler
  timeout: 30
  events:
    - http:
        method: GET
        path: /folders/{folderId}
        cors: true

# Admin Only
updateTreeOrder:
  handler: ./src/service-assets/handlers/updateTreeOrder.handler
  events:
    - http:
        method: PATCH
        path: /tree
        cors: true

createFile:
  handler: ./src/service-assets/handlers/createFile.handler
  events:
    - http:
        method: POST
        path: /folders/{folderId}/files
        cors: true

deleteFiles:
  handler: ./src/service-assets/handlers/deleteFiles.handler
  events:
    - http:
        method: DELETE
        path: /folders/{folderId}/files
        cors: true

createFolder:
  handler: ./src/service-assets/handlers/createFolder.handler
  events:
    - http:
        method: POST
        path: /folders
        cors: true

updateFolder:
  handler: ./src/service-assets/handlers/updateFolder.handler
  events:
    - http:
        method: PATCH
        path: /folders/{folderId}
        cors: true

deleteFolder:
  handler: ./src/service-assets/handlers/deleteFolder.handler
  events:
    - http:
        method: DELETE
        path: /folders/{folderId}
        cors: true

createPresignedUrls:
  handler: ./src/service-assets/handlers/createUploadUrls.handler
  events:
    - http:
        method: POST
        path: /uploads
        cors: true

download:
  handler: ./src/service-assets/handlers/getZipFile.handler
  events:
    - http:
        method: POST
        path: /downloads
        cors: true